"use strict";var He=Object.defineProperty;var b=(l,e)=>He(l,"name",{value:e,configurable:!0});var c=require("./local-typescript-loader-DFqhlpcR.js"),Xe=require("path"),Ye=require("tty"),Je=require("os"),Qe=require("module"),Ze=require("magic-string"),ee=typeof document<"u"?document.currentScript:null;function et(l){var e=Object.create(null);return l&&Object.keys(l).forEach(function(t){if(t!=="default"){var s=Object.getOwnPropertyDescriptor(l,t);Object.defineProperty(e,t,s.get?s:{enumerable:!0,get:b(function(){return l[t]},"get")})}}),e.default=l,Object.freeze(e)}b(et,"_interopNamespaceDefault");var O=et(Xe),K={},A={},W={},be;function tt(){return be||(be=1,Object.defineProperty(W,"__esModule",{value:!0}),W.default=/((['"])(?:(?!\2|\\).|\\(?:\r\n|[\s\S]))*(\2)?|`(?:[^`\\$]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{[^}]*\}?)*\}?)*(`)?)|(\/\/.*)|(\/\*(?:[^*]|\*(?!\/))*(\*\/)?)|(\/(?!\*)(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\]\\]).|\\.)+\/(?:(?!\s*(?:\b|[\u0080-\uFFFF$\\'"~({]|[+\-!](?!=)|\.?\d))|[gmiyus]{1,6}\b(?![\u0080-\uFFFF$\\]|\s*(?:[+\-*%&|^<>!=?({]|\/(?![\/*])))))|(0[xX][\da-fA-F]+|0[oO][0-7]+|0[bB][01]+|(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?)|((?!\d)(?:(?!\s)[$\w\u0080-\uFFFF]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+)|(--|\+\+|&&|\|\||=>|\.{3}|(?:[+\-\/%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2})=?|[?~.,:;[\](){}])|(\s+)|(^$|[\s\S])/g,W.matchToToken=function(l){var e={type:"invalid",value:l[0],closed:void 0};return l[1]?(e.type="string",e.closed=!!(l[3]||l[4])):l[5]?e.type="comment":l[6]?(e.type="comment",e.closed=!!l[7]):l[8]?e.type="regex":l[9]?e.type="number":l[10]?e.type="name":l[11]?e.type="punctuator":l[12]&&(e.type="whitespace"),e}),W}b(tt,"requireJsTokens");var te={},L={},ge;function rt(){if(ge)return L;ge=1,Object.defineProperty(L,"__esModule",{value:!0}),L.isIdentifierChar=n,L.isIdentifierName=a,L.isIdentifierStart=d;let l="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",e="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65";const t=new RegExp("["+l+"]"),s=new RegExp("["+l+e+"]");l=e=null;const f=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],v=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239];function p(r,i){let o=65536;for(let h=0,u=i.length;h<u;h+=2){if(o+=i[h],o>r)return!1;if(o+=i[h+1],o>=r)return!0}return!1}b(p,"isInAstralSet");function d(r){return r<65?r===36:r<=90?!0:r<97?r===95:r<=122?!0:r<=65535?r>=170&&t.test(String.fromCharCode(r)):p(r,f)}b(d,"isIdentifierStart");function n(r){return r<48?r===36:r<58?!0:r<65?!1:r<=90?!0:r<97?r===95:r<=122?!0:r<=65535?r>=170&&s.test(String.fromCharCode(r)):p(r,f)||p(r,v)}b(n,"isIdentifierChar");function a(r){let i=!0;for(let o=0;o<r.length;o++){let h=r.charCodeAt(o);if((h&64512)===55296&&o+1<r.length){const u=r.charCodeAt(++o);(u&64512)===56320&&(h=65536+((h&1023)<<10)+(u&1023))}if(i){if(i=!1,!d(h))return!1}else if(!n(h))return!1}return!i}return b(a,"isIdentifierName"),L}b(rt,"requireIdentifier");var P={},ye;function nt(){if(ye)return P;ye=1,Object.defineProperty(P,"__esModule",{value:!0}),P.isKeyword=n,P.isReservedWord=f,P.isStrictBindOnlyReservedWord=p,P.isStrictBindReservedWord=d,P.isStrictReservedWord=v;const l={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},e=new Set(l.keyword),t=new Set(l.strict),s=new Set(l.strictBind);function f(a,r){return r&&a==="await"||a==="enum"}b(f,"isReservedWord");function v(a,r){return f(a,r)||t.has(a)}b(v,"isStrictReservedWord");function p(a){return s.has(a)}b(p,"isStrictBindOnlyReservedWord");function d(a,r){return v(a,r)||p(a)}b(d,"isStrictBindReservedWord");function n(a){return e.has(a)}return b(n,"isKeyword"),P}b(nt,"requireKeyword");var ve;function at(){return ve||(ve=1,function(l){Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"isIdentifierChar",{enumerable:!0,get:b(function(){return e.isIdentifierChar},"get")}),Object.defineProperty(l,"isIdentifierName",{enumerable:!0,get:b(function(){return e.isIdentifierName},"get")}),Object.defineProperty(l,"isIdentifierStart",{enumerable:!0,get:b(function(){return e.isIdentifierStart},"get")}),Object.defineProperty(l,"isKeyword",{enumerable:!0,get:b(function(){return t.isKeyword},"get")}),Object.defineProperty(l,"isReservedWord",{enumerable:!0,get:b(function(){return t.isReservedWord},"get")}),Object.defineProperty(l,"isStrictBindOnlyReservedWord",{enumerable:!0,get:b(function(){return t.isStrictBindOnlyReservedWord},"get")}),Object.defineProperty(l,"isStrictBindReservedWord",{enumerable:!0,get:b(function(){return t.isStrictBindReservedWord},"get")}),Object.defineProperty(l,"isStrictReservedWord",{enumerable:!0,get:b(function(){return t.isStrictReservedWord},"get")});var e=rt(),t=nt()}(te)),te}b(at,"requireLib$2");function st(l){throw new Error('Could not dynamically require "'+l+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}b(st,"commonjsRequire");var U={exports:{}},xe;function we(){if(xe)return U.exports;xe=1;let l=process.argv||[],e=process.env,t=!("NO_COLOR"in e||l.includes("--no-color"))&&("FORCE_COLOR"in e||l.includes("--color")||process.platform==="win32"||st!=null&&Ye.isatty(1)&&e.TERM!=="dumb"||"CI"in e),s=b((p,d,n=p)=>a=>{let r=""+a,i=r.indexOf(d,p.length);return~i?p+f(r,d,n,i)+d:p+r+d},"formatter"),f=b((p,d,n,a)=>{let r="",i=0;do r+=p.substring(i,a)+n,i=a+d.length,a=p.indexOf(d,i);while(~a);return r+p.substring(i)},"replaceClose"),v=b((p=t)=>{let d=p?s:()=>String;return{isColorSupported:p,reset:d("\x1B[0m","\x1B[0m"),bold:d("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:d("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:d("\x1B[3m","\x1B[23m"),underline:d("\x1B[4m","\x1B[24m"),inverse:d("\x1B[7m","\x1B[27m"),hidden:d("\x1B[8m","\x1B[28m"),strikethrough:d("\x1B[9m","\x1B[29m"),black:d("\x1B[30m","\x1B[39m"),red:d("\x1B[31m","\x1B[39m"),green:d("\x1B[32m","\x1B[39m"),yellow:d("\x1B[33m","\x1B[39m"),blue:d("\x1B[34m","\x1B[39m"),magenta:d("\x1B[35m","\x1B[39m"),cyan:d("\x1B[36m","\x1B[39m"),white:d("\x1B[37m","\x1B[39m"),gray:d("\x1B[90m","\x1B[39m"),bgBlack:d("\x1B[40m","\x1B[49m"),bgRed:d("\x1B[41m","\x1B[49m"),bgGreen:d("\x1B[42m","\x1B[49m"),bgYellow:d("\x1B[43m","\x1B[49m"),bgBlue:d("\x1B[44m","\x1B[49m"),bgMagenta:d("\x1B[45m","\x1B[49m"),bgCyan:d("\x1B[46m","\x1B[49m"),bgWhite:d("\x1B[47m","\x1B[49m")}},"createColors");return U.exports=v(),U.exports.createColors=v,U.exports}b(we,"requirePicocolors");var re={exports:{}},ne,Se;function it(){if(Se)return ne;Se=1;var l=/[|\\{}()[\]^$+*?.]/g;return ne=b(function(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(l,"\\$&")},"escapeStringRegexp"),ne}b(it,"requireEscapeStringRegexp");var H={exports:{}},ae={exports:{}},se,Ce;function ut(){return Ce||(Ce=1,se={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),se}b(ut,"requireColorName");var Ee;function Te(){if(Ee)return ae.exports;Ee=1;var l=ut(),e={};for(var t in l)l.hasOwnProperty(t)&&(e[l[t]]=t);var s=ae.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var f in s)if(s.hasOwnProperty(f)){if(!("channels"in s[f]))throw new Error("missing channels property: "+f);if(!("labels"in s[f]))throw new Error("missing channel labels property: "+f);if(s[f].labels.length!==s[f].channels)throw new Error("channel and label counts mismatch: "+f);var v=s[f].channels,p=s[f].labels;delete s[f].channels,delete s[f].labels,Object.defineProperty(s[f],"channels",{value:v}),Object.defineProperty(s[f],"labels",{value:p})}s.rgb.hsl=function(n){var a=n[0]/255,r=n[1]/255,i=n[2]/255,o=Math.min(a,r,i),h=Math.max(a,r,i),u=h-o,m,y,g;return h===o?m=0:a===h?m=(r-i)/u:r===h?m=2+(i-a)/u:i===h&&(m=4+(a-r)/u),m=Math.min(m*60,360),m<0&&(m+=360),g=(o+h)/2,h===o?y=0:g<=.5?y=u/(h+o):y=u/(2-h-o),[m,y*100,g*100]},s.rgb.hsv=function(n){var a,r,i,o,h,u=n[0]/255,m=n[1]/255,y=n[2]/255,g=Math.max(u,m,y),w=g-Math.min(u,m,y),x=b(function(S){return(g-S)/6/w+1/2},"diffc");return w===0?o=h=0:(h=w/g,a=x(u),r=x(m),i=x(y),u===g?o=i-r:m===g?o=1/3+a-i:y===g&&(o=2/3+r-a),o<0?o+=1:o>1&&(o-=1)),[o*360,h*100,g*100]},s.rgb.hwb=function(n){var a=n[0],r=n[1],i=n[2],o=s.rgb.hsl(n)[0],h=1/255*Math.min(a,Math.min(r,i));return i=1-1/255*Math.max(a,Math.max(r,i)),[o,h*100,i*100]},s.rgb.cmyk=function(n){var a=n[0]/255,r=n[1]/255,i=n[2]/255,o,h,u,m;return m=Math.min(1-a,1-r,1-i),o=(1-a-m)/(1-m)||0,h=(1-r-m)/(1-m)||0,u=(1-i-m)/(1-m)||0,[o*100,h*100,u*100,m*100]};function d(n,a){return Math.pow(n[0]-a[0],2)+Math.pow(n[1]-a[1],2)+Math.pow(n[2]-a[2],2)}return b(d,"comparativeDistance"),s.rgb.keyword=function(n){var a=e[n];if(a)return a;var r=1/0,i;for(var o in l)if(l.hasOwnProperty(o)){var h=l[o],u=d(n,h);u<r&&(r=u,i=o)}return i},s.keyword.rgb=function(n){return l[n]},s.rgb.xyz=function(n){var a=n[0]/255,r=n[1]/255,i=n[2]/255;a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92;var o=a*.4124+r*.3576+i*.1805,h=a*.2126+r*.7152+i*.0722,u=a*.0193+r*.1192+i*.9505;return[o*100,h*100,u*100]},s.rgb.lab=function(n){var a=s.rgb.xyz(n),r=a[0],i=a[1],o=a[2],h,u,m;return r/=95.047,i/=100,o/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,h=116*i-16,u=500*(r-i),m=200*(i-o),[h,u,m]},s.hsl.rgb=function(n){var a=n[0]/360,r=n[1]/100,i=n[2]/100,o,h,u,m,y;if(r===0)return y=i*255,[y,y,y];i<.5?h=i*(1+r):h=i+r-i*r,o=2*i-h,m=[0,0,0];for(var g=0;g<3;g++)u=a+1/3*-(g-1),u<0&&u++,u>1&&u--,6*u<1?y=o+(h-o)*6*u:2*u<1?y=h:3*u<2?y=o+(h-o)*(2/3-u)*6:y=o,m[g]=y*255;return m},s.hsl.hsv=function(n){var a=n[0],r=n[1]/100,i=n[2]/100,o=r,h=Math.max(i,.01),u,m;return i*=2,r*=i<=1?i:2-i,o*=h<=1?h:2-h,m=(i+r)/2,u=i===0?2*o/(h+o):2*r/(i+r),[a,u*100,m*100]},s.hsv.rgb=function(n){var a=n[0]/60,r=n[1]/100,i=n[2]/100,o=Math.floor(a)%6,h=a-Math.floor(a),u=255*i*(1-r),m=255*i*(1-r*h),y=255*i*(1-r*(1-h));switch(i*=255,o){case 0:return[i,y,u];case 1:return[m,i,u];case 2:return[u,i,y];case 3:return[u,m,i];case 4:return[y,u,i];case 5:return[i,u,m]}},s.hsv.hsl=function(n){var a=n[0],r=n[1]/100,i=n[2]/100,o=Math.max(i,.01),h,u,m;return m=(2-r)*i,h=(2-r)*o,u=r*o,u/=h<=1?h:2-h,u=u||0,m/=2,[a,u*100,m*100]},s.hwb.rgb=function(n){var a=n[0]/360,r=n[1]/100,i=n[2]/100,o=r+i,h,u,m,y;o>1&&(r/=o,i/=o),h=Math.floor(6*a),u=1-i,m=6*a-h,h&1&&(m=1-m),y=r+m*(u-r);var g,w,x;switch(h){default:case 6:case 0:g=u,w=y,x=r;break;case 1:g=y,w=u,x=r;break;case 2:g=r,w=u,x=y;break;case 3:g=r,w=y,x=u;break;case 4:g=y,w=r,x=u;break;case 5:g=u,w=r,x=y;break}return[g*255,w*255,x*255]},s.cmyk.rgb=function(n){var a=n[0]/100,r=n[1]/100,i=n[2]/100,o=n[3]/100,h,u,m;return h=1-Math.min(1,a*(1-o)+o),u=1-Math.min(1,r*(1-o)+o),m=1-Math.min(1,i*(1-o)+o),[h*255,u*255,m*255]},s.xyz.rgb=function(n){var a=n[0]/100,r=n[1]/100,i=n[2]/100,o,h,u;return o=a*3.2406+r*-1.5372+i*-.4986,h=a*-.9689+r*1.8758+i*.0415,u=a*.0557+r*-.204+i*1.057,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92,h=h>.0031308?1.055*Math.pow(h,1/2.4)-.055:h*12.92,u=u>.0031308?1.055*Math.pow(u,1/2.4)-.055:u*12.92,o=Math.min(Math.max(0,o),1),h=Math.min(Math.max(0,h),1),u=Math.min(Math.max(0,u),1),[o*255,h*255,u*255]},s.xyz.lab=function(n){var a=n[0],r=n[1],i=n[2],o,h,u;return a/=95.047,r/=100,i/=108.883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,o=116*r-16,h=500*(a-r),u=200*(r-i),[o,h,u]},s.lab.xyz=function(n){var a=n[0],r=n[1],i=n[2],o,h,u;h=(a+16)/116,o=r/500+h,u=h-i/200;var m=Math.pow(h,3),y=Math.pow(o,3),g=Math.pow(u,3);return h=m>.008856?m:(h-16/116)/7.787,o=y>.008856?y:(o-16/116)/7.787,u=g>.008856?g:(u-16/116)/7.787,o*=95.047,h*=100,u*=108.883,[o,h,u]},s.lab.lch=function(n){var a=n[0],r=n[1],i=n[2],o,h,u;return o=Math.atan2(i,r),h=o*360/2/Math.PI,h<0&&(h+=360),u=Math.sqrt(r*r+i*i),[a,u,h]},s.lch.lab=function(n){var a=n[0],r=n[1],i=n[2],o,h,u;return u=i/360*2*Math.PI,o=r*Math.cos(u),h=r*Math.sin(u),[a,o,h]},s.rgb.ansi16=function(n){var a=n[0],r=n[1],i=n[2],o=1 in arguments?arguments[1]:s.rgb.hsv(n)[2];if(o=Math.round(o/50),o===0)return 30;var h=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(a/255));return o===2&&(h+=60),h},s.hsv.ansi16=function(n){return s.rgb.ansi16(s.hsv.rgb(n),n[2])},s.rgb.ansi256=function(n){var a=n[0],r=n[1],i=n[2];if(a===r&&r===i)return a<8?16:a>248?231:Math.round((a-8)/247*24)+232;var o=16+36*Math.round(a/255*5)+6*Math.round(r/255*5)+Math.round(i/255*5);return o},s.ansi16.rgb=function(n){var a=n%10;if(a===0||a===7)return n>50&&(a+=3.5),a=a/10.5*255,[a,a,a];var r=(~~(n>50)+1)*.5,i=(a&1)*r*255,o=(a>>1&1)*r*255,h=(a>>2&1)*r*255;return[i,o,h]},s.ansi256.rgb=function(n){if(n>=232){var a=(n-232)*10+8;return[a,a,a]}n-=16;var r,i=Math.floor(n/36)/5*255,o=Math.floor((r=n%36)/6)/5*255,h=r%6/5*255;return[i,o,h]},s.rgb.hex=function(n){var a=((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255),r=a.toString(16).toUpperCase();return"000000".substring(r.length)+r},s.hex.rgb=function(n){var a=n.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!a)return[0,0,0];var r=a[0];a[0].length===3&&(r=r.split("").map(function(m){return m+m}).join(""));var i=parseInt(r,16),o=i>>16&255,h=i>>8&255,u=i&255;return[o,h,u]},s.rgb.hcg=function(n){var a=n[0]/255,r=n[1]/255,i=n[2]/255,o=Math.max(Math.max(a,r),i),h=Math.min(Math.min(a,r),i),u=o-h,m,y;return u<1?m=h/(1-u):m=0,u<=0?y=0:o===a?y=(r-i)/u%6:o===r?y=2+(i-a)/u:y=4+(a-r)/u+4,y/=6,y%=1,[y*360,u*100,m*100]},s.hsl.hcg=function(n){var a=n[1]/100,r=n[2]/100,i=1,o=0;return r<.5?i=2*a*r:i=2*a*(1-r),i<1&&(o=(r-.5*i)/(1-i)),[n[0],i*100,o*100]},s.hsv.hcg=function(n){var a=n[1]/100,r=n[2]/100,i=a*r,o=0;return i<1&&(o=(r-i)/(1-i)),[n[0],i*100,o*100]},s.hcg.rgb=function(n){var a=n[0]/360,r=n[1]/100,i=n[2]/100;if(r===0)return[i*255,i*255,i*255];var o=[0,0,0],h=a%1*6,u=h%1,m=1-u,y=0;switch(Math.floor(h)){case 0:o[0]=1,o[1]=u,o[2]=0;break;case 1:o[0]=m,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=u;break;case 3:o[0]=0,o[1]=m,o[2]=1;break;case 4:o[0]=u,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=m}return y=(1-r)*i,[(r*o[0]+y)*255,(r*o[1]+y)*255,(r*o[2]+y)*255]},s.hcg.hsv=function(n){var a=n[1]/100,r=n[2]/100,i=a+r*(1-a),o=0;return i>0&&(o=a/i),[n[0],o*100,i*100]},s.hcg.hsl=function(n){var a=n[1]/100,r=n[2]/100,i=r*(1-a)+.5*a,o=0;return i>0&&i<.5?o=a/(2*i):i>=.5&&i<1&&(o=a/(2*(1-i))),[n[0],o*100,i*100]},s.hcg.hwb=function(n){var a=n[1]/100,r=n[2]/100,i=a+r*(1-a);return[n[0],(i-a)*100,(1-i)*100]},s.hwb.hcg=function(n){var a=n[1]/100,r=n[2]/100,i=1-r,o=i-a,h=0;return o<1&&(h=(i-o)/(1-o)),[n[0],o*100,h*100]},s.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]},s.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]},s.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]},s.gray.hsl=s.gray.hsv=function(n){return[0,0,n[0]]},s.gray.hwb=function(n){return[0,100,n[0]]},s.gray.cmyk=function(n){return[0,0,0,n[0]]},s.gray.lab=function(n){return[n[0],0,0]},s.gray.hex=function(n){var a=Math.round(n[0]/100*255)&255,r=(a<<16)+(a<<8)+a,i=r.toString(16).toUpperCase();return"000000".substring(i.length)+i},s.rgb.gray=function(n){var a=(n[0]+n[1]+n[2])/3;return[a/255*100]},ae.exports}b(Te,"requireConversions");var ie,Ne;function ot(){if(Ne)return ie;Ne=1;var l=Te();function e(){for(var v={},p=Object.keys(l),d=p.length,n=0;n<d;n++)v[p[n]]={distance:-1,parent:null};return v}b(e,"buildGraph");function t(v){var p=e(),d=[v];for(p[v].distance=0;d.length;)for(var n=d.pop(),a=Object.keys(l[n]),r=a.length,i=0;i<r;i++){var o=a[i],h=p[o];h.distance===-1&&(h.distance=p[n].distance+1,h.parent=n,d.unshift(o))}return p}b(t,"deriveBFS");function s(v,p){return function(d){return p(v(d))}}b(s,"link");function f(v,p){for(var d=[p[v].parent,v],n=l[p[v].parent][v],a=p[v].parent;p[a].parent;)d.unshift(p[a].parent),n=s(l[p[a].parent][a],n),a=p[a].parent;return n.conversion=d,n}return b(f,"wrapConversion"),ie=b(function(v){for(var p=t(v),d={},n=Object.keys(p),a=n.length,r=0;r<a;r++){var i=n[r],o=p[i];o.parent!==null&&(d[i]=f(i,p))}return d},"route"),ie}b(ot,"requireRoute");var ue,Oe;function ct(){if(Oe)return ue;Oe=1;var l=Te(),e=ot(),t={},s=Object.keys(l);function f(p){var d=b(function(n){return n==null?n:(arguments.length>1&&(n=Array.prototype.slice.call(arguments)),p(n))},"wrappedFn");return"conversion"in p&&(d.conversion=p.conversion),d}b(f,"wrapRaw");function v(p){var d=b(function(n){if(n==null)return n;arguments.length>1&&(n=Array.prototype.slice.call(arguments));var a=p(n);if(typeof a=="object")for(var r=a.length,i=0;i<r;i++)a[i]=Math.round(a[i]);return a},"wrappedFn");return"conversion"in p&&(d.conversion=p.conversion),d}return b(v,"wrapRounded"),s.forEach(function(p){t[p]={},Object.defineProperty(t[p],"channels",{value:l[p].channels}),Object.defineProperty(t[p],"labels",{value:l[p].labels});var d=e(p),n=Object.keys(d);n.forEach(function(a){var r=d[a];t[p][a]=v(r),t[p][a].raw=f(r)})}),ue=t,ue}b(ct,"requireColorConvert"),H.exports;var ke;function lt(){return ke||(ke=1,function(l){const e=ct(),t=b((p,d)=>function(){return`\x1B[${p.apply(e,arguments)+d}m`},"wrapAnsi16"),s=b((p,d)=>function(){const n=p.apply(e,arguments);return`\x1B[${38+d};5;${n}m`},"wrapAnsi256"),f=b((p,d)=>function(){const n=p.apply(e,arguments);return`\x1B[${38+d};2;${n[0]};${n[1]};${n[2]}m`},"wrapAnsi16m");function v(){const p=new Map,d={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};d.color.grey=d.color.gray;for(const r of Object.keys(d)){const i=d[r];for(const o of Object.keys(i)){const h=i[o];d[o]={open:`\x1B[${h[0]}m`,close:`\x1B[${h[1]}m`},i[o]=d[o],p.set(h[0],h[1])}Object.defineProperty(d,r,{value:i,enumerable:!1}),Object.defineProperty(d,"codes",{value:p,enumerable:!1})}const n=b(r=>r,"ansi2ansi"),a=b((r,i,o)=>[r,i,o],"rgb2rgb");d.color.close="\x1B[39m",d.bgColor.close="\x1B[49m",d.color.ansi={ansi:t(n,0)},d.color.ansi256={ansi256:s(n,0)},d.color.ansi16m={rgb:f(a,0)},d.bgColor.ansi={ansi:t(n,10)},d.bgColor.ansi256={ansi256:s(n,10)},d.bgColor.ansi16m={rgb:f(a,10)};for(let r of Object.keys(e)){if(typeof e[r]!="object")continue;const i=e[r];r==="ansi16"&&(r="ansi"),"ansi16"in i&&(d.color.ansi[r]=t(i.ansi16,0),d.bgColor.ansi[r]=t(i.ansi16,10)),"ansi256"in i&&(d.color.ansi256[r]=s(i.ansi256,0),d.bgColor.ansi256[r]=s(i.ansi256,10)),"rgb"in i&&(d.color.ansi16m[r]=f(i.rgb,0),d.bgColor.ansi16m[r]=f(i.rgb,10))}return d}b(v,"assembleStyles"),Object.defineProperty(l,"exports",{enumerable:!0,get:v})}(H)),H.exports}b(lt,"requireAnsiStyles");var oe,Re;function ft(){return Re||(Re=1,oe=b((l,e)=>{e=e||process.argv;const t=l.startsWith("-")?"":l.length===1?"-":"--",s=e.indexOf(t+l),f=e.indexOf("--");return s!==-1&&(f===-1?!0:s<f)},"hasFlag")),oe}b(ft,"requireHasFlag");var ce,De;function pt(){if(De)return ce;De=1;const l=Je,e=ft(),t=process.env;let s;e("no-color")||e("no-colors")||e("color=false")?s=!1:(e("color")||e("colors")||e("color=true")||e("color=always"))&&(s=!0),"FORCE_COLOR"in t&&(s=t.FORCE_COLOR.length===0||parseInt(t.FORCE_COLOR,10)!==0);function f(d){return d===0?!1:{level:d,hasBasic:!0,has256:d>=2,has16m:d>=3}}b(f,"translateLevel");function v(d){if(s===!1)return 0;if(e("color=16m")||e("color=full")||e("color=truecolor"))return 3;if(e("color=256"))return 2;if(d&&!d.isTTY&&s!==!0)return 0;const n=s?1:0;if(process.platform==="win32"){const a=l.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in t)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(a=>a in t)||t.CI_NAME==="codeship"?1:n;if("TEAMCITY_VERSION"in t)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(t.TEAMCITY_VERSION)?1:0;if(t.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in t){const a=parseInt((t.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(t.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(t.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(t.TERM)||"COLORTERM"in t?1:(t.TERM==="dumb",n)}b(v,"supportsColor");function p(d){const n=v(d);return f(n)}return b(p,"getSupportLevel"),ce={supportsColor:p,stdout:p(process.stdout),stderr:p(process.stderr)},ce}b(pt,"requireSupportsColor");var le,Me;function dt(){if(Me)return le;Me=1;const l=/(?:\\(u[a-f\d]{4}|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,e=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,t=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,s=/\\(u[a-f\d]{4}|x[a-f\d]{2}|.)|([^\\])/gi,f=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function v(a){return a[0]==="u"&&a.length===5||a[0]==="x"&&a.length===3?String.fromCharCode(parseInt(a.slice(1),16)):f.get(a)||a}b(v,"unescape");function p(a,r){const i=[],o=r.trim().split(/\s*,\s*/g);let h;for(const u of o)if(!isNaN(u))i.push(Number(u));else if(h=u.match(t))i.push(h[2].replace(s,(m,y,g)=>y?v(y):g));else throw new Error(`Invalid Chalk template style argument: ${u} (in style '${a}')`);return i}b(p,"parseArguments");function d(a){e.lastIndex=0;const r=[];let i;for(;(i=e.exec(a))!==null;){const o=i[1];if(i[2]){const h=p(o,i[2]);r.push([o].concat(h))}else r.push([o])}return r}b(d,"parseStyle");function n(a,r){const i={};for(const h of r)for(const u of h.styles)i[u[0]]=h.inverse?null:u.slice(1);let o=a;for(const h of Object.keys(i))if(Array.isArray(i[h])){if(!(h in o))throw new Error(`Unknown Chalk style: ${h}`);i[h].length>0?o=o[h].apply(o,i[h]):o=o[h]}return o}return b(n,"buildStyle"),le=b((a,r)=>{const i=[],o=[];let h=[];if(r.replace(l,(u,m,y,g,w,x)=>{if(m)h.push(v(m));else if(g){const S=h.join("");h=[],o.push(i.length===0?S:n(a,i)(S)),i.push({inverse:y,styles:d(g)})}else if(w){if(i.length===0)throw new Error("Found extraneous } in Chalk template literal");o.push(n(a,i)(h.join(""))),h=[],i.pop()}else h.push(x)}),o.push(h.join("")),i.length>0){const u=`Chalk template literal is missing ${i.length} closing bracket${i.length===1?"":"s"} (\`}\`)`;throw new Error(u)}return o.join("")},"templates"),le}b(dt,"requireTemplates");var Ie;function mt(){return Ie||(Ie=1,function(l){const e=it(),t=lt(),s=pt().stdout,f=dt(),v=process.platform==="win32"&&!(process.env.TERM||"").toLowerCase().startsWith("xterm"),p=["ansi","ansi","ansi256","ansi16m"],d=new Set(["gray"]),n=Object.create(null);function a(m,y){y=y||{};const g=s?s.level:0;m.level=y.level===void 0?g:y.level,m.enabled="enabled"in y?y.enabled:m.level>0}b(a,"applyOptions");function r(m){if(!this||!(this instanceof r)||this.template){const y={};return a(y,m),y.template=function(){const g=[].slice.call(arguments);return u.apply(null,[y.template].concat(g))},Object.setPrototypeOf(y,r.prototype),Object.setPrototypeOf(y.template,y),y.template.constructor=r,y.template}a(this,m)}b(r,"Chalk"),v&&(t.blue.open="\x1B[94m");for(const m of Object.keys(t))t[m].closeRe=new RegExp(e(t[m].close),"g"),n[m]={get(){const y=t[m];return o.call(this,this._styles?this._styles.concat(y):[y],this._empty,m)}};n.visible={get(){return o.call(this,this._styles||[],!0,"visible")}},t.color.closeRe=new RegExp(e(t.color.close),"g");for(const m of Object.keys(t.color.ansi))d.has(m)||(n[m]={get(){const y=this.level;return function(){const w={open:t.color[p[y]][m].apply(null,arguments),close:t.color.close,closeRe:t.color.closeRe};return o.call(this,this._styles?this._styles.concat(w):[w],this._empty,m)}}});t.bgColor.closeRe=new RegExp(e(t.bgColor.close),"g");for(const m of Object.keys(t.bgColor.ansi)){if(d.has(m))continue;const y="bg"+m[0].toUpperCase()+m.slice(1);n[y]={get(){const g=this.level;return function(){const x={open:t.bgColor[p[g]][m].apply(null,arguments),close:t.bgColor.close,closeRe:t.bgColor.closeRe};return o.call(this,this._styles?this._styles.concat(x):[x],this._empty,m)}}}}const i=Object.defineProperties(()=>{},n);function o(m,y,g){const w=b(function(){return h.apply(w,arguments)},"builder");w._styles=m,w._empty=y;const x=this;return Object.defineProperty(w,"level",{enumerable:!0,get(){return x.level},set(S){x.level=S}}),Object.defineProperty(w,"enabled",{enumerable:!0,get(){return x.enabled},set(S){x.enabled=S}}),w.hasGrey=this.hasGrey||g==="gray"||g==="grey",w.__proto__=i,w}b(o,"build");function h(){const m=arguments,y=m.length;let g=String(arguments[0]);if(y===0)return"";if(y>1)for(let x=1;x<y;x++)g+=" "+m[x];if(!this.enabled||this.level<=0||!g)return this._empty?"":g;const w=t.dim.open;v&&this.hasGrey&&(t.dim.open="");for(const x of this._styles.slice().reverse())g=x.open+g.replace(x.closeRe,x.open)+x.close,g=g.replace(/\r?\n/g,`${x.close}$&${x.open}`);return t.dim.open=w,g}b(h,"applyStyle");function u(m,y){if(!Array.isArray(y))return[].slice.call(arguments,1).join(" ");const g=[].slice.call(arguments,2),w=[y.raw[0]];for(let x=1;x<y.length;x++)w.push(String(g[x-1]).replace(/[{}\\]/g,"\\$&")),w.push(String(y.raw[x]));return f(m,w.join(""))}b(u,"chalkTag"),Object.defineProperties(r.prototype,n),l.exports=r(),l.exports.supportsColor=s,l.exports.default=l.exports}(re)),re.exports}b(mt,"requireChalk");var Fe;function ht(){if(Fe)return A;Fe=1,Object.defineProperty(A,"__esModule",{value:!0}),A.default=y,A.shouldHighlight=h;var l=tt(),e=at(),t=f(we(),!0);function s(g){if(typeof WeakMap!="function")return null;var w=new WeakMap,x=new WeakMap;return(s=b(function(S){return S?x:w},"_getRequireWildcardCache"))(g)}b(s,"_getRequireWildcardCache");function f(g,w){if(g===null||typeof g!="object"&&typeof g!="function")return{default:g};var x=s(w);if(x&&x.has(g))return x.get(g);var S={__proto__:null},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in g)if(C!=="default"&&{}.hasOwnProperty.call(g,C)){var T=E?Object.getOwnPropertyDescriptor(g,C):null;T&&(T.get||T.set)?Object.defineProperty(S,C,T):S[C]=g[C]}return S.default=g,x&&x.set(g,S),S}b(f,"_interopRequireWildcard");const v=typeof process=="object"&&(process.env.FORCE_COLOR==="0"||process.env.FORCE_COLOR==="false")?(0,t.createColors)(!1):t.default,p=b((g,w)=>x=>g(w(x)),"compose"),d=new Set(["as","async","from","get","of","set"]);function n(g){return{keyword:g.cyan,capitalized:g.yellow,jsxIdentifier:g.yellow,punctuator:g.yellow,number:g.magenta,string:g.green,regex:g.magenta,comment:g.gray,invalid:p(p(g.white,g.bgRed),g.bold)}}b(n,"getDefs");const a=/\r\n|[\n\r\u2028\u2029]/,r=/^[()[\]{}]$/;let i;{const g=/^[a-z][\w-]*$/i,w=b(function(x,S,E){if(x.type==="name"){if((0,e.isKeyword)(x.value)||(0,e.isStrictReservedWord)(x.value,!0)||d.has(x.value))return"keyword";if(g.test(x.value)&&(E[S-1]==="<"||E.slice(S-2,S)==="</"))return"jsxIdentifier";if(x.value[0]!==x.value[0].toLowerCase())return"capitalized"}return x.type==="punctuator"&&r.test(x.value)?"bracket":x.type==="invalid"&&(x.value==="@"||x.value==="#")?"punctuator":x.type},"getTokenType");i=b(function*(x){let S;for(;S=l.default.exec(x);){const E=l.matchToToken(S);yield{type:w(E,S.index,x),value:E.value}}},"tokenize")}function o(g,w){let x="";for(const{type:S,value:E}of i(w)){const C=g[S];C?x+=E.split(a).map(T=>C(T)).join(`
`):x+=E}return x}b(o,"highlightTokens");function h(g){return v.isColorSupported||g.forceColor}b(h,"shouldHighlight");let u;function m(g){if(g){var w;return(w=u)!=null||(u=(0,t.createColors)(!0)),u}return v}b(m,"getColors");function y(g,w={}){if(g!==""&&h(w)){const x=n(m(w.forceColor));return o(x,g)}else return g}b(y,"highlight");{let g,w;A.getChalk=({forceColor:x})=>{var S;if((S=g)!=null||(g=mt()),x){var E;return(E=w)!=null||(w=new g.constructor({enabled:!0,level:1})),w}return g}}return A}b(ht,"requireLib$1");var Pe;function bt(){if(Pe)return K;Pe=1,Object.defineProperty(K,"__esModule",{value:!0}),K.codeFrameColumns=o,K.default=h;var l=ht(),e=s(we(),!0);function t(u){if(typeof WeakMap!="function")return null;var m=new WeakMap,y=new WeakMap;return(t=b(function(g){return g?y:m},"_getRequireWildcardCache"))(u)}b(t,"_getRequireWildcardCache");function s(u,m){if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var y=t(m);if(y&&y.has(u))return y.get(u);var g={__proto__:null},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in u)if(x!=="default"&&Object.prototype.hasOwnProperty.call(u,x)){var S=w?Object.getOwnPropertyDescriptor(u,x):null;S&&(S.get||S.set)?Object.defineProperty(g,x,S):g[x]=u[x]}return g.default=u,y&&y.set(u,g),g}b(s,"_interopRequireWildcard");const f=typeof process=="object"&&(process.env.FORCE_COLOR==="0"||process.env.FORCE_COLOR==="false")?(0,e.createColors)(!1):e.default,v=b((u,m)=>y=>u(m(y)),"compose");let p;function d(u){if(u){var m;return(m=p)!=null||(p=(0,e.createColors)(!0)),p}return f}b(d,"getColors");let n=!1;function a(u){return{gutter:u.gray,marker:v(u.red,u.bold),message:v(u.red,u.bold)}}b(a,"getDefs");const r=/\r\n|[\n\r\u2028\u2029]/;function i(u,m,y){const g=Object.assign({column:0,line:-1},u.start),w=Object.assign({},g,u.end),{linesAbove:x=2,linesBelow:S=3}=y||{},E=g.line,C=g.column,T=w.line,D=w.column;let _=Math.max(E-(x+1),0),q=Math.min(m.length,T+S);E===-1&&(_=0),T===-1&&(q=m.length);const z=T-E,I={};if(z)for(let M=0;M<=z;M++){const F=M+E;if(!C)I[F]=!0;else if(M===0){const $=m[F-1].length;I[F]=[C,$-C+1]}else if(M===z)I[F]=[0,D];else{const $=m[F-M].length;I[F]=[0,$]}}else C===D?C?I[E]=[C,0]:I[E]=!0:I[E]=[C,D-C];return{start:_,end:q,markerLines:I}}b(i,"getMarkerLines");function o(u,m,y={}){const g=(y.highlightCode||y.forceColor)&&(0,l.shouldHighlight)(y),w=d(y.forceColor),x=a(w),S=b((M,F)=>g?M(F):F,"maybeHighlight"),E=u.split(r),{start:C,end:T,markerLines:D}=i(m,E,y),_=m.start&&typeof m.start.column=="number",q=String(T).length;let I=(g?(0,l.default)(u,y):u).split(r,T).slice(C,T).map((M,F)=>{const $=C+1+F,Q=` ${` ${$}`.slice(-q)} |`,V=D[$],ze=!D[$+1];if(V){let Z="";if(Array.isArray(V)){const Ve=M.slice(0,Math.max(V[0]-1,0)).replace(/[^\t]/g," "),Ue=V[1]||1;Z=[`
 `,S(x.gutter,Q.replace(/\d/g," "))," ",Ve,S(x.marker,"^").repeat(Ue)].join(""),ze&&y.message&&(Z+=" "+S(x.message,y.message))}return[S(x.marker,">"),S(x.gutter,Q),M.length>0?` ${M}`:"",Z].join("")}else return` ${S(x.gutter,Q)}${M.length>0?` ${M}`:""}`}).join(`
`);return y.message&&!_&&(I=`${" ".repeat(q+1)}${y.message}
${I}`),g?w.reset(I):I}b(o,"codeFrameColumns");function h(u,m,y,g={}){if(!n){n=!0;const x="Passing lineNumber and colNumber is deprecated to @babel/code-frame. Please use `codeFrameColumns`.";if(process.emitWarning)process.emitWarning(x,"DeprecationWarning");else{const S=new Error(x);S.name="DeprecationWarning",console.warn(new Error(x))}}return y=Math.max(y,0),o(u,{start:{column:y,line:m}},g)}return b(h,"_default"),K}b(bt,"requireLib"),bt();function gt(l){return{...l,compilerOptions:l.compilerOptions??{},respectExternal:l.respectExternal??!1}}b(gt,"resolveDefaultOptions");const X=/\.d\.(c|m)?tsx?$/,_e=".d.ts",fe={getCurrentDirectory:b(()=>c.ts.sys.getCurrentDirectory(),"getCurrentDirectory"),getNewLine:b(()=>c.ts.sys.newLine,"getNewLine"),getCanonicalFileName:c.ts.sys.useCaseSensitiveFileNames?l=>l:l=>l.toLowerCase()},yt={declaration:!0,noEmit:!1,emitDeclarationOnly:!0,noEmitOnError:!0,checkJs:!1,declarationMap:!1,skipLibCheck:!0,preserveSymlinks:!0,target:c.ts.ScriptTarget.ESNext},G=new Map,B=b((...l)=>process.env.DTS_LOG_CACHE?console.log("[cache]",...l):null,"logCache");function $e([l,e],t){for(B(l),G.set(l,t);l!==e&&l!==O.dirname(l);){if(l=O.dirname(l),B("up",l),G.has(l))return B("has",l);G.set(l,t)}}b($e,"cacheConfig");function pe(l,e,t){const s={...yt,...e};let f=O.dirname(l),v=[];const p=t||f;if(G.has(p))B("HIT",p);else{B("miss",p);const r=t?O.resolve(process.cwd(),t):c.ts.findConfigFile(f,c.ts.sys.fileExists);if(!r)return{dtsFiles:v,dirName:f,compilerOptions:s};let i=f;f=O.dirname(r);const{config:o,error:h}=c.ts.readConfigFile(r,c.ts.sys.readFile);if(h)return console.error(c.ts.formatDiagnostic(h,fe)),{dtsFiles:v,dirName:f,compilerOptions:s};B("tsconfig",o);const u=c.ts.parseJsonConfigFileContent(o,c.ts.sys,f);$e(t?[t,t]:[i,f],u)}const{fileNames:d,options:n,errors:a}=G.get(p);return v=d.filter(r=>X.test(r)),a.length?(console.error(c.ts.formatDiagnostics(a,fe)),{dtsFiles:v,dirName:f,compilerOptions:s}):{dtsFiles:v,dirName:f,compilerOptions:{...n,...s}}}b(pe,"getCompilerOptions");function vt(l,e,t){const{dtsFiles:s,compilerOptions:f}=pe(l,e,t);return c.ts.createProgram([l].concat(Array.from(s)),f,c.ts.createCompilerHost(f,!0))}b(vt,"createProgram$1");function xt(l,e,t){const s=[];let f=[],v=new Set,p="",d={};for(let n of l){if(X.test(n))continue;n=O.resolve(n);const a=pe(n,e,t);if(a.dtsFiles.forEach(v.add,v),!f.length){f.push(n),{dirName:p,compilerOptions:d}=a;continue}if(a.dirName===p)f.push(n);else{const r=c.ts.createCompilerHost(d,!0),i=c.ts.createProgram(f.concat(Array.from(v)),d,r);s.push(i),f=[n],{dirName:p,compilerOptions:d}=a}}if(f.length){const n=c.ts.createCompilerHost(d,!0),a=c.ts.createProgram(f.concat(Array.from(v)),d,n);s.push(a)}return s}b(xt,"createPrograms");function wt(){let l;try{return{codeFrameColumns:l}=c.require("@babel/code-frame"),l}catch{try{return{codeFrameColumns:l}=Qe.createRequire(typeof document>"u"?require("url").pathToFileURL(__filename).href:ee&&ee.tagName.toUpperCase()==="SCRIPT"&&ee.src||new URL("rollup-plugin-dts-wFwILfkI.js",document.baseURI).href)("@babel/code-frame"),l}catch{}}}b(wt,"getCodeFrame");function St(l){const e=l.getSourceFile(),t=e.getLineAndCharacterOfPosition(l.getStart()),s=e.getLineAndCharacterOfPosition(l.getEnd());return{start:{line:t.line+1,column:t.character+1},end:{line:s.line+1,column:s.character+1}}}b(St,"getLocation");function Ct(l){const e=wt(),s=l.getSourceFile().getFullText(),f=St(l);return e?`
`+e(s,f,{highlightCode:!0}):`
${f.start.line}:${f.start.column}: \`${l.getFullText().trim()}\``}b(Ct,"frameNode");class N extends Error{static{b(this,"UnsupportedSyntaxError")}constructor(e,t="Syntax not yet supported"){super(`${t}
${Ct(e)}`)}}class Et{static{b(this,"NamespaceFixer")}constructor(e){this.sourceFile=e}findNamespaces(){const e=[],t={};for(const s of this.sourceFile.statements){const f={start:s.getStart(),end:s.getEnd()};if(c.ts.isEmptyStatement(s)){e.unshift({name:"",exports:[],location:f});continue}if((c.ts.isImportDeclaration(s)||c.ts.isExportDeclaration(s))&&s.moduleSpecifier&&c.ts.isStringLiteral(s.moduleSpecifier)){let{text:r}=s.moduleSpecifier;if(r.startsWith(".")&&(r.endsWith(".d.ts")||r.endsWith(".d.cts")||r.endsWith(".d.mts"))){let i=s.moduleSpecifier.getStart()+1,o=s.moduleSpecifier.getEnd()-1;e.unshift({name:"",exports:[],location:{start:i,end:o},textBeforeCodeAfter:r.replace(/\.d\.ts$/,".js").replace(/\.d\.cts$/,".cjs").replace(/\.d\.mts$/,".mjs")})}}if(c.ts.isModuleDeclaration(s)&&s.body&&c.ts.isModuleBlock(s.body)){for(const r of s.body.statements)if(c.ts.isExportDeclaration(r)&&r.exportClause){if(c.ts.isNamespaceExport(r.exportClause))continue;for(const i of r.exportClause.elements)i.propertyName&&i.propertyName.getText()==i.name.getText()&&e.unshift({name:"",exports:[],location:{start:i.propertyName.getEnd(),end:i.name.getEnd()}})}}if(c.ts.isClassDeclaration(s)?t[s.name.getText()]={type:"class",generics:s.typeParameters}:c.ts.isFunctionDeclaration(s)?t[s.name.getText()]={type:"function"}:c.ts.isInterfaceDeclaration(s)?t[s.name.getText()]={type:"interface",generics:s.typeParameters}:c.ts.isTypeAliasDeclaration(s)?t[s.name.getText()]={type:"type",generics:s.typeParameters}:c.ts.isModuleDeclaration(s)&&c.ts.isIdentifier(s.name)?t[s.name.getText()]={type:"namespace"}:c.ts.isEnumDeclaration(s)&&(t[s.name.getText()]={type:"enum"}),!c.ts.isVariableStatement(s))continue;const{declarations:v}=s.declarationList;if(v.length!==1)continue;const p=v[0],d=p.name.getText();if(!p.initializer||!c.ts.isCallExpression(p.initializer)){t[d]={type:"var"};continue}const n=p.initializer.arguments[0];if(!p.initializer.expression.getFullText().includes("/*#__PURE__*/Object.freeze")||!c.ts.isObjectLiteralExpression(n))continue;const a=[];for(const r of n.properties){if(!c.ts.isPropertyAssignment(r)||!(c.ts.isIdentifier(r.name)||c.ts.isStringLiteral(r.name))||r.name.text!=="__proto__"&&!c.ts.isIdentifier(r.initializer))throw new N(r,"Expected a property assignment");r.name.text!=="__proto__"&&a.push({exportedName:r.name.text,localName:r.initializer.getText()})}e.unshift({name:d,exports:a,location:f})}return{namespaces:e,itemTypes:t}}fix(){let e=this.sourceFile.getFullText();const{namespaces:t,itemTypes:s}=this.findNamespaces();for(const f of t){const v=e.slice(f.location.end);e=e.slice(0,f.location.start);for(const{exportedName:p,localName:d}of f.exports)if(p===d){const{type:n,generics:a}=s[d]||{};if(n==="interface"||n==="type"){const r=je(a);e+=`type ${f.name}_${p}${r.in} = ${d}${r.out};
`}else if(n==="enum"||n==="class"){const r=je(a);e+=`type ${f.name}_${p}${r.in} = ${d}${r.out};
`,e+=`declare const ${f.name}_${p}: typeof ${d};
`}else e+=`declare const ${f.name}_${p}: typeof ${d};
`}if(f.name){e+=`declare namespace ${f.name} {
`,e+=`  export {
`;for(const{exportedName:p,localName:d}of f.exports)p===d?e+=`    ${f.name}_${p} as ${p},
`:e+=`    ${d} as ${p},
`;e+=`  };
`,e+="}"}e+=f.textBeforeCodeAfter??"",e+=v}return e}}function je(l){return!l||!l.length?{in:"",out:""}:{in:`<${l.map(e=>e.getText()).join(", ")}>`,out:`<${l.map(e=>e.name.getText()).join(", ")}>`}}b(je,"renderTypeParams");let Ae=1;function Tt(l){return k({type:"Program",sourceType:"module",body:[]},{start:l.getFullStart(),end:l.getEnd()})}b(Tt,"createProgram");function Nt(l){const e={type:"Identifier",name:String(Ae++)};return{ident:e,expr:{type:"AssignmentPattern",left:e,right:l}}}b(Nt,"createReference");function R(l){return k({type:"Identifier",name:l.getText()},l)}b(R,"createIdentifier");function Ot(l){const e=k({type:"FunctionExpression",id:null,params:[],body:{type:"BlockStatement",body:[]}},l),t=k({type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:String(Ae++)},arguments:[e],optional:!1}},l);return{fn:e,iife:t}}b(Ot,"createIIFE");function kt(){const l={type:"ArrayExpression",elements:[]};return{expr:l,stmt:{type:"ReturnStatement",argument:l}}}b(kt,"createReturn");function Rt(l,e){return k({type:"FunctionDeclaration",id:k({type:"Identifier",name:c.ts.idText(l)},l),params:[],body:{type:"BlockStatement",body:[]}},e)}b(Rt,"createDeclaration");function j(l){if(c.ts.isLiteralExpression(l))return{type:"Literal",value:l.text};if(c.ts.isPropertyAccessExpression(l)){if(c.ts.isPrivateIdentifier(l.name))throw new N(l.name);return k({type:"MemberExpression",computed:!1,optional:!1,object:j(l.expression),property:j(l.name)},{start:l.expression.getStart(),end:l.name.getEnd()})}if(c.ts.isIdentifier(l))return R(l);if(l.kind==c.ts.SyntaxKind.NullKeyword)return{type:"Literal",value:null};throw new N(l)}b(j,"convertExpression");function k(l,e){let t="start"in e?e:{start:e.getStart(),end:e.getEnd()};return Object.assign(l,t)}b(k,"withStartEnd");function Y(l,e){return(c.ts.getCombinedModifierFlags(l)&e)===e}b(Y,"matchesModifier");function Dt({sourceFile:l}){const e=new Ze(l.getFullText()),t=new Set,s=new Set;let f="";const v=new Map,p=new Map;for(const u of l.statements){if(c.ts.isEmptyStatement(u)){e.remove(u.getStart(),u.getEnd());continue}if(c.ts.isEnumDeclaration(u)||c.ts.isFunctionDeclaration(u)||c.ts.isInterfaceDeclaration(u)||c.ts.isClassDeclaration(u)||c.ts.isTypeAliasDeclaration(u)||c.ts.isModuleDeclaration(u)){if(u.name){const m=u.name.getText();t.add(m),Y(u,c.ts.ModifierFlags.ExportDefault)?f=m:Y(u,c.ts.ModifierFlags.Export)&&s.add(m),u.flags&c.ts.NodeFlags.GlobalAugmentation||h(m,[de(u),Be(u)])}c.ts.isModuleDeclaration(u)&&Mt(e,u),Le(e,u)}else if(c.ts.isVariableStatement(u)){const{declarations:m}=u.declarationList,y=Y(u,c.ts.ModifierFlags.Export);for(const C of u.declarationList.declarations)if(c.ts.isIdentifier(C.name)){const T=C.name.getText();t.add(T),y&&s.add(T)}if(Le(e,u),m.length==1){const C=m[0];c.ts.isIdentifier(C.name)&&h(C.name.getText(),[de(u),Be(u)])}else{const C=m.slice(),T=C.shift();h(T.name.getText(),[de(u),T.getEnd()]);for(const D of C)c.ts.isIdentifier(D.name)&&h(D.name.getText(),[D.getFullStart(),D.getEnd()])}const{flags:g}=u.declarationList,x=`declare ${g&c.ts.NodeFlags.Let?"let":g&c.ts.NodeFlags.Const?"const":"var"} `,S=u.declarationList.getChildren().find(C=>C.kind===c.ts.SyntaxKind.SyntaxList).getChildren();let E=0;for(const C of S)if(C.kind===c.ts.SyntaxKind.CommaToken)E=C.getStart(),e.remove(E,C.getEnd());else if(E){e.appendLeft(E,`;
`);const T=C.getFullStart(),D=e.slice(T,C.getStart());let _=D.length-D.trimStart().length;_?e.overwrite(T,T+_,x):e.appendLeft(T,x)}}}for(const u of l.statements)if(r(u),!!Y(u,c.ts.ModifierFlags.ExportDefault)&&(c.ts.isFunctionDeclaration(u)||c.ts.isClassDeclaration(u))){if(u.name)continue;f||(f=o("export_default"));const m=u.getChildren(),y=m.findIndex(S=>S.kind===c.ts.SyntaxKind.ClassKeyword||S.kind===c.ts.SyntaxKind.FunctionKeyword),g=m[y],w=m[y+1];if(w.kind>=c.ts.SyntaxKind.FirstPunctuation&&w.kind<=c.ts.SyntaxKind.LastPunctuation){const S=e.slice(g.getEnd(),w.getStart())!=" ";e.appendLeft(w.getStart(),`${S?" ":""}${f}`)}else e.appendRight(g.getEnd(),` ${f}`)}for(const u of p.values()){const y=u.pop()[0];for(const g of u)e.move(g[0],g[1],y)}f&&e.append(`
export default ${f};
`),s.size&&e.append(`
export { ${[...s].join(", ")} };
`);for(const[u,m]of v.entries())e.prepend(`import * as ${m} from "${u}";
`);const d=l.getLineStarts(),n=new Set;for(const u of l.typeReferenceDirectives){n.add(u.fileName);const{line:m}=l.getLineAndCharacterOfPosition(u.pos),y=d[m];let g=l.getLineEndOfPosition(u.pos);e.slice(g,g+1)==`
`&&(g+=1),e.remove(y,g)}const a=new Set;for(const u of l.referencedFiles){a.add(u.fileName);const{line:m}=l.getLineAndCharacterOfPosition(u.pos),y=d[m];let g=l.getLineEndOfPosition(u.pos);e.slice(g,g+1)==`
`&&(g+=1),e.remove(y,g)}return{code:e,typeReferences:n,fileReferences:a};function r(u){if(c.ts.forEachChild(u,r),c.ts.isImportTypeNode(u)){if(!c.ts.isLiteralTypeNode(u.argument)||!c.ts.isStringLiteral(u.argument.literal))throw new N(u,"inline imports should have a literal argument");const m=u.argument.literal.text,y=u.getChildren(),g=y.find(E=>E.kind===c.ts.SyntaxKind.ImportKeyword).getStart();let w=u.getEnd();const x=y.find(E=>E.kind===c.ts.SyntaxKind.DotToken||E.kind===c.ts.SyntaxKind.LessThanToken);x&&(w=x.getStart());const S=i(m);e.overwrite(g,w,S)}}function i(u){let m=v.get(u);return m||(m=o(u.replace(/[^a-zA-Z0-9_$]/g,()=>"_")),v.set(u,m)),m}function o(u){let m=u;for(;t.has(m);)m=`_${m}`;return t.add(m),m}function h(u,m){let y=p.get(u);if(!y)y=[m],p.set(u,y);else{const g=y[y.length-1];g[1]===m[0]?g[1]=m[1]:y.push(m)}}}b(Dt,"preProcess");function Le(l,e){if(!c.ts.canHaveModifiers(e))return;let t=!1;const s=c.ts.isEnumDeclaration(e)||c.ts.isClassDeclaration(e)||c.ts.isFunctionDeclaration(e)||c.ts.isModuleDeclaration(e)||c.ts.isVariableStatement(e);for(const f of e.modifiers??[])switch(f.kind){case c.ts.SyntaxKind.ExportKeyword:case c.ts.SyntaxKind.DefaultKeyword:l.remove(f.getStart(),f.getEnd()+1);break;case c.ts.SyntaxKind.DeclareKeyword:t=!0}s&&!t&&l.appendRight(e.getStart(),"declare ")}b(Le,"fixModifiers");function Mt(l,e){if(!(!e.body||!c.ts.isModuleBlock(e.body))){for(const t of e.body.statements)if(c.ts.isExportDeclaration(t)&&t.exportClause){if(c.ts.isNamespaceExport(t.exportClause))continue;for(const s of t.exportClause.elements)s.propertyName||l.appendLeft(s.name.getEnd(),` as ${s.name.getText()}`)}}}b(Mt,"duplicateExports");function de(l){const e=l.getFullStart();return e+(qe(l,e)?1:0)}b(de,"getStart");function Be(l){const e=l.getEnd();return e+(qe(l,e)?1:0)}b(Be,"getEnd");function qe(l,e){return l.getSourceFile().getFullText()[e]==`
`}b(qe,"newlineAt");const It=new Set([c.ts.SyntaxKind.LiteralType,c.ts.SyntaxKind.VoidKeyword,c.ts.SyntaxKind.UnknownKeyword,c.ts.SyntaxKind.AnyKeyword,c.ts.SyntaxKind.BooleanKeyword,c.ts.SyntaxKind.NumberKeyword,c.ts.SyntaxKind.StringKeyword,c.ts.SyntaxKind.ObjectKeyword,c.ts.SyntaxKind.NullKeyword,c.ts.SyntaxKind.UndefinedKeyword,c.ts.SyntaxKind.SymbolKeyword,c.ts.SyntaxKind.NeverKeyword,c.ts.SyntaxKind.ThisKeyword,c.ts.SyntaxKind.ThisType,c.ts.SyntaxKind.BigIntKeyword]);class Ke{static{b(this,"DeclarationScope")}constructor({id:e,range:t}){if(this.scopes=[],e)this.declaration=Rt(e,t);else{const{iife:f,fn:v}=Ot(t);this.iife=f,this.declaration=v}const s=kt();this.declaration.body.body.push(s.stmt),this.returnExpr=s.expr}pushScope(){this.scopes.push(new Set)}popScope(e=1){for(let t=0;t<e;t++)this.scopes.pop()}pushTypeVariable(e){const t=e.getText();this.scopes[this.scopes.length-1]?.add(t)}pushReference(e){let t;if(e.type==="Identifier"?t=e.name:e.type==="MemberExpression"&&e.object.type==="Identifier"&&(t=e.object.name),t){for(const v of this.scopes)if(v.has(t))return}if(t==="this")return;const{ident:s,expr:f}=Nt(e);this.declaration.params.push(f),this.returnExpr.elements.push(s)}pushIdentifierReference(e){this.pushReference(R(e))}convertEntityName(e){return c.ts.isIdentifier(e)?R(e):k({type:"MemberExpression",computed:!1,optional:!1,object:this.convertEntityName(e.left),property:R(e.right)},e)}convertPropertyAccess(e){if(!c.ts.isIdentifier(e.expression)&&!c.ts.isPropertyAccessExpression(e.expression))throw new N(e.expression);if(c.ts.isPrivateIdentifier(e.name))throw new N(e.name);let t=c.ts.isIdentifier(e.expression)?R(e.expression):this.convertPropertyAccess(e.expression);return k({type:"MemberExpression",computed:!1,optional:!1,object:t,property:R(e.name)},e)}convertComputedPropertyName(e){if(!e.name||!c.ts.isComputedPropertyName(e.name))return;const{expression:t}=e.name;if(!(c.ts.isLiteralExpression(t)||c.ts.isPrefixUnaryExpression(t))){if(c.ts.isIdentifier(t))return this.pushReference(R(t));if(c.ts.isPropertyAccessExpression(t))return this.pushReference(this.convertPropertyAccess(t));throw new N(t)}}convertParametersAndType(e){this.convertComputedPropertyName(e);const t=this.convertTypeParameters(e.typeParameters);for(const s of e.parameters)this.convertTypeNode(s.type);this.convertTypeNode(e.type),this.popScope(t)}convertHeritageClauses(e){for(const t of e.heritageClauses||[])for(const s of t.types)this.pushReference(j(s.expression)),this.convertTypeArguments(s)}convertTypeArguments(e){if(e.typeArguments)for(const t of e.typeArguments)this.convertTypeNode(t)}convertMembers(e){for(const t of e){if(c.ts.isPropertyDeclaration(t)||c.ts.isPropertySignature(t)||c.ts.isIndexSignatureDeclaration(t)){c.ts.isPropertyDeclaration(t)&&t.initializer&&c.ts.isPropertyAccessExpression(t.initializer)&&this.pushReference(this.convertPropertyAccess(t.initializer)),this.convertComputedPropertyName(t),this.convertTypeNode(t.type);continue}if(c.ts.isMethodDeclaration(t)||c.ts.isMethodSignature(t)||c.ts.isConstructorDeclaration(t)||c.ts.isConstructSignatureDeclaration(t)||c.ts.isCallSignatureDeclaration(t)||c.ts.isGetAccessorDeclaration(t)||c.ts.isSetAccessorDeclaration(t))this.convertParametersAndType(t);else throw new N(t)}}convertTypeParameters(e){if(!e)return 0;for(const t of e)this.convertTypeNode(t.constraint),this.convertTypeNode(t.default),this.pushScope(),this.pushTypeVariable(t.name);return e.length}convertTypeNode(e){if(e&&!It.has(e.kind)){if(c.ts.isTypeReferenceNode(e)){this.pushReference(this.convertEntityName(e.typeName)),this.convertTypeArguments(e);return}if(c.ts.isTypeLiteralNode(e))return this.convertMembers(e.members);if(c.ts.isArrayTypeNode(e))return this.convertTypeNode(e.elementType);if(c.ts.isTupleTypeNode(e)){for(const t of e.elements)this.convertTypeNode(t);return}if(c.ts.isNamedTupleMember(e)||c.ts.isParenthesizedTypeNode(e)||c.ts.isTypeOperatorNode(e)||c.ts.isTypePredicateNode(e))return this.convertTypeNode(e.type);if(c.ts.isUnionTypeNode(e)||c.ts.isIntersectionTypeNode(e)){for(const t of e.types)this.convertTypeNode(t);return}if(c.ts.isMappedTypeNode(e)){const{typeParameter:t,type:s,nameType:f}=e;this.convertTypeNode(t.constraint),this.pushScope(),this.pushTypeVariable(t.name),this.convertTypeNode(s),f&&this.convertTypeNode(f),this.popScope();return}if(c.ts.isConditionalTypeNode(e)){this.convertTypeNode(e.checkType),this.pushScope(),this.convertTypeNode(e.extendsType),this.convertTypeNode(e.trueType),this.convertTypeNode(e.falseType),this.popScope();return}if(c.ts.isIndexedAccessTypeNode(e)){this.convertTypeNode(e.objectType),this.convertTypeNode(e.indexType);return}if(c.ts.isFunctionOrConstructorTypeNode(e)){this.convertParametersAndType(e);return}if(c.ts.isTypeQueryNode(e)){this.pushReference(this.convertEntityName(e.exprName));return}if(c.ts.isRestTypeNode(e)){this.convertTypeNode(e.type);return}if(c.ts.isOptionalTypeNode(e)){this.convertTypeNode(e.type);return}if(c.ts.isTemplateLiteralTypeNode(e)){for(const t of e.templateSpans)this.convertTypeNode(t.type);return}if(c.ts.isInferTypeNode(e)){const{typeParameter:t}=e;this.convertTypeNode(t.constraint),this.pushTypeVariable(t.name);return}else throw new N(e)}}convertNamespace(e,t=!1){if(this.pushScope(),t&&e.body&&c.ts.isModuleDeclaration(e.body)){this.convertNamespace(e.body,!0);return}if(!e.body||!c.ts.isModuleBlock(e.body))throw new N(e,'namespace must have a "ModuleBlock" body.');const{statements:s}=e.body;for(const f of s){if(c.ts.isEnumDeclaration(f)||c.ts.isFunctionDeclaration(f)||c.ts.isClassDeclaration(f)||c.ts.isInterfaceDeclaration(f)||c.ts.isTypeAliasDeclaration(f)||c.ts.isModuleDeclaration(f)){if(f.name&&c.ts.isIdentifier(f.name))this.pushTypeVariable(f.name);else throw new N(f,"non-Identifier name not supported");continue}if(c.ts.isVariableStatement(f)){for(const v of f.declarationList.declarations)if(c.ts.isIdentifier(v.name))this.pushTypeVariable(v.name);else throw new N(v,"non-Identifier name not supported");continue}if(!c.ts.isExportDeclaration(f))throw new N(f,"namespace child (hoisting) not supported yet")}for(const f of s){if(c.ts.isVariableStatement(f)){for(const v of f.declarationList.declarations)v.type&&this.convertTypeNode(v.type);continue}if(c.ts.isFunctionDeclaration(f)){this.convertParametersAndType(f);continue}if(c.ts.isInterfaceDeclaration(f)||c.ts.isClassDeclaration(f)){const v=this.convertTypeParameters(f.typeParameters);this.convertHeritageClauses(f),this.convertMembers(f.members),this.popScope(v);continue}if(c.ts.isTypeAliasDeclaration(f)){const v=this.convertTypeParameters(f.typeParameters);this.convertTypeNode(f.type),this.popScope(v);continue}if(c.ts.isModuleDeclaration(f)){this.convertNamespace(f,t);continue}if(!c.ts.isEnumDeclaration(f))if(c.ts.isExportDeclaration(f)){if(f.exportClause){if(c.ts.isNamespaceExport(f.exportClause))throw new N(f.exportClause);for(const v of f.exportClause.elements){const p=v.propertyName||v.name;this.pushIdentifierReference(p)}}}else throw new N(f,"namespace child (walking) not supported yet")}this.popScope()}}function Ft({sourceFile:l}){return new Pt(l).transform()}b(Ft,"convert");class Pt{static{b(this,"Transformer")}constructor(e){this.sourceFile=e,this.declarations=new Map,this.ast=Tt(e);for(const t of e.statements)this.convertStatement(t)}transform(){return{ast:this.ast}}pushStatement(e){this.ast.body.push(e)}createDeclaration(e,t){const s={start:e.getFullStart(),end:e.getEnd()};if(!t){const d=new Ke({range:s});return this.pushStatement(d.iife),d}const f=t.getText(),v=new Ke({id:t,range:s}),p=this.declarations.get(f);if(p){p.pushIdentifierReference(t),p.declaration.end=s.end;let d=this.ast.body.findIndex(n=>n==p.declaration);for(let n=d+1;n<this.ast.body.length;n++){const a=this.ast.body[n];a.start=a.end=s.end}}else this.pushStatement(v.declaration),this.declarations.set(f,v);return p||v}convertStatement(e){if(c.ts.isEnumDeclaration(e))return this.convertEnumDeclaration(e);if(c.ts.isFunctionDeclaration(e))return this.convertFunctionDeclaration(e);if(c.ts.isInterfaceDeclaration(e)||c.ts.isClassDeclaration(e))return this.convertClassOrInterfaceDeclaration(e);if(c.ts.isTypeAliasDeclaration(e))return this.convertTypeAliasDeclaration(e);if(c.ts.isVariableStatement(e))return this.convertVariableStatement(e);if(c.ts.isExportDeclaration(e)||c.ts.isExportAssignment(e))return this.convertExportDeclaration(e);if(c.ts.isModuleDeclaration(e))return this.convertNamespaceDeclaration(e);if(e.kind==c.ts.SyntaxKind.NamespaceExportDeclaration)return this.removeStatement(e);if(c.ts.isImportDeclaration(e)||c.ts.isImportEqualsDeclaration(e))return this.convertImportDeclaration(e);throw new N(e)}removeStatement(e){this.pushStatement(k({type:"ExpressionStatement",expression:{type:"Literal",value:"pls remove me"}},e))}convertNamespaceDeclaration(e){if(e.flags&c.ts.NodeFlags.GlobalAugmentation||!c.ts.isIdentifier(e.name)){this.createDeclaration(e).convertNamespace(e,!0);return}const s=this.createDeclaration(e,e.name);s.pushIdentifierReference(e.name),s.convertNamespace(e)}convertEnumDeclaration(e){this.createDeclaration(e,e.name).pushIdentifierReference(e.name)}convertFunctionDeclaration(e){if(!e.name)throw new N(e,"FunctionDeclaration should have a name");const t=this.createDeclaration(e,e.name);t.pushIdentifierReference(e.name),t.convertParametersAndType(e)}convertClassOrInterfaceDeclaration(e){if(!e.name)throw new N(e,"ClassDeclaration / InterfaceDeclaration should have a name");const t=this.createDeclaration(e,e.name),s=t.convertTypeParameters(e.typeParameters);t.convertHeritageClauses(e),t.convertMembers(e.members),t.popScope(s)}convertTypeAliasDeclaration(e){const t=this.createDeclaration(e,e.name),s=t.convertTypeParameters(e.typeParameters);t.convertTypeNode(e.type),t.popScope(s)}convertVariableStatement(e){const{declarations:t}=e.declarationList;if(t.length!==1)throw new N(e,"VariableStatement with more than one declaration not yet supported");for(const s of t){if(!c.ts.isIdentifier(s.name))throw new N(e,"VariableDeclaration must have a name");this.createDeclaration(e,s.name).convertTypeNode(s.type)}}convertExportDeclaration(e){if(c.ts.isExportAssignment(e)){this.pushStatement(k({type:"ExportDefaultDeclaration",declaration:j(e.expression)},e));return}const t=e.moduleSpecifier?j(e.moduleSpecifier):void 0;if(!e.exportClause)this.pushStatement(k({type:"ExportAllDeclaration",source:t,exported:null},e));else if(c.ts.isNamespaceExport(e.exportClause))this.pushStatement(k({type:"ExportAllDeclaration",source:t,exported:R(e.exportClause.name)},e));else{const s=[];for(const f of e.exportClause.elements)s.push(this.convertExportSpecifier(f));this.pushStatement(k({type:"ExportNamedDeclaration",declaration:null,specifiers:s,source:t},e))}}convertImportDeclaration(e){if(c.ts.isImportEqualsDeclaration(e)){if(!c.ts.isExternalModuleReference(e.moduleReference))throw new N(e,"ImportEquals should have a literal source.");this.pushStatement(k({type:"ImportDeclaration",specifiers:[{type:"ImportDefaultSpecifier",local:R(e.name)}],source:j(e.moduleReference.expression)},e));return}const t=j(e.moduleSpecifier),s=e.importClause&&e.importClause.namedBindings?this.convertNamedImportBindings(e.importClause.namedBindings):[];e.importClause&&e.importClause.name&&s.push({type:"ImportDefaultSpecifier",local:R(e.importClause.name)}),this.pushStatement(k({type:"ImportDeclaration",specifiers:s,source:t},e))}convertNamedImportBindings(e){return c.ts.isNamedImports(e)?e.elements.map(t=>{const s=R(t.name),f=t.propertyName?R(t.propertyName):s;return{type:"ImportSpecifier",local:s,imported:f}}):[{type:"ImportNamespaceSpecifier",local:R(e.name)}]}convertExportSpecifier(e){const t=R(e.name);return{type:"ExportSpecifier",exported:t,local:e.propertyName?R(e.propertyName):t}}}class _t{static{b(this,"ExportsFixer")}constructor(e){this.source=e,this.DEBUG=!!process.env.DTS_EXPORTS_FIXER_DEBUG}fix(){const e=this.findExports();return e.sort((t,s)=>t.location.start-s.location.start),this.getCodeParts(e).join("")}findExports(){const{rawExports:e,values:t,types:s}=this.getExportsAndLocals();return e.map(f=>{const v=f.elements.map(p=>{const d=p.name.text,n=p.propertyName?.text??p.name.text,a=s.some(r=>r.getText()===n)&&!t.some(r=>r.getText()===n)?"type":"value";return this.DEBUG&&console.log(`export ${n} as ${d} is a ${a}`),{exportedName:d,localName:n,kind:a}});return{location:{start:f.getStart(),end:f.getEnd()},exports:v}})}getExportsAndLocals(e=this.source.statements){const t=[],s=[],f=[],v=b(p=>{const{rawExports:d,values:n,types:a}=this.getExportsAndLocals(p);t.push(...d),s.push(...n),f.push(...a)},"recurseInto");for(const p of e)if(this.DEBUG&&console.log(p.getText(),p.kind),!c.ts.isImportDeclaration(p)){if(c.ts.isInterfaceDeclaration(p)||c.ts.isTypeAliasDeclaration(p)){this.DEBUG&&console.log(`${p.name.getFullText()} is a type`),f.push(p.name);continue}if(c.ts.isEnumDeclaration(p)||c.ts.isFunctionDeclaration(p)||c.ts.isClassDeclaration(p)||c.ts.isVariableStatement(p)){if(c.ts.isVariableStatement(p))for(const d of p.declarationList.declarations)c.ts.isIdentifier(d.name)&&(this.DEBUG&&console.log(`${d.name.getFullText()} is a value (from var statement)`),s.push(d.name));else p.name&&(this.DEBUG&&console.log(`${p.name.getFullText()} is a value (from declaration)`),s.push(p.name));continue}if(c.ts.isModuleBlock(p)){const d=p.statements;v(d);continue}if(c.ts.isModuleDeclaration(p)){p.name&&c.ts.isIdentifier(p.name)&&(this.DEBUG&&console.log(`${p.name.getFullText()} is a value (from module declaration)`),s.push(p.name)),v(p.getChildren());continue}if(c.ts.isExportDeclaration(p)){if(p.moduleSpecifier||p.isTypeOnly)continue;const d=p.exportClause;if(!d||!c.ts.isNamedExports(d))continue;t.push(d);continue}this.DEBUG&&console.log("unhandled statement",p.getFullText(),p.kind)}return{rawExports:t,values:s,types:f}}createNamedExport(e,t=!1){return`${!t&&e.kind==="type"?"type ":""}${e.localName}${e.localName===e.exportedName?"":` as ${e.exportedName}`}`}getCodeParts(e){let t=0;const s=this.source.getFullText(),f=[];for(const v of e){const p=s.slice(t,v.location.start);p.length>0&&f.push(p),f.push(this.getExportStatement(v)),t=v.location.end}return t<s.length&&f.push(s.slice(t)),f}getExportStatement(e){const t=e.exports.every(s=>s.kind==="type")&&e.exports.length>0;return`${t?"type ":""}{ ${e.exports.map(s=>this.createNamedExport(s,t)).join(", ")} }`}}function J(l,e){return c.ts.createSourceFile(l,e,c.ts.ScriptTarget.Latest,!0)}b(J,"parse");const $t=b(()=>{const l=new Map,e=new Map;return{name:"dts-transform",options({onLog:t,...s}){return{...s,onLog(f,v,p){f==="warn"&&v.code=="CIRCULAR_DEPENDENCY"||(t?t(f,v,p):p(f,v))},treeshake:{moduleSideEffects:"no-external",propertyReadSideEffects:!0,unknownGlobalSideEffects:!1}}},outputOptions(t){return{...t,chunkFileNames:t.chunkFileNames||"[name]-[hash].d.ts",entryFileNames:t.entryFileNames||"[name].d.ts",format:"es",exports:"named",compact:!1,freeze:!0,interop:"esModule",generatedCode:Object.assign({symbols:!1},t.generatedCode),strict:!1}},transform(t,s){let f=J(s,t);const v=Dt({sourceFile:f});l.set(f.fileName,v.typeReferences),e.set(f.fileName,v.fileReferences),t=v.code.toString(),f=J(s,t);const p=Ft({sourceFile:f});return process.env.DTS_DUMP_AST&&(console.log(s),console.log(t),console.log(JSON.stringify(p.ast.body,void 0,2))),{code:t,ast:p.ast,map:v.code.generateMap()}},renderChunk(t,s,f){const v=J(s.fileName,t),p=new Et(v),d=new Set,n=new Set;for(const i of Object.keys(s.modules)){for(const o of l.get(i.split("\\").join("/"))||[])d.add(o);for(const o of e.get(i.split("\\").join("/"))||[])if(o.startsWith(".")){const h=O.join(O.dirname(i),o),u=f.file&&O.dirname(f.file)||s.facadeModuleId&&O.dirname(s.facadeModuleId)||".";let m=O.relative(u,h).split("\\").join("/");m[0]!=="."&&(m="./"+m),n.add(m)}else n.add(o)}let a=We(Array.from(n,i=>`/// <reference path="${i}" />`));return a+=We(Array.from(d,i=>`/// <reference types="${i}" />`)),a+=p.fix(),a||(a+=`
export { }`),{code:new _t(J(s.fileName,a)).fix(),map:{mappings:""}}}}},"transform");function We(l){return l.length?l.join(`
`)+`
`:""}b(We,"writeBlock");const me=/\.([cm]ts|[tj]sx?)$/;function he({programs:l,resolvedOptions:{compilerOptions:e,tsconfig:t}},s,f){if(!l.length&&X.test(s))return{code:f};const v=l.find(p=>!!p.getSourceFile(s));if(v){const p=v.getSourceFile(s);return{code:p?.getFullText(),source:p,program:v}}else if(c.ts.sys.fileExists(s)){const p=vt(s,e,t);l.push(p);const d=p.getSourceFile(s);return{code:d?.getFullText(),source:d,program:p}}else return null}b(he,"getModule");const Ge=b((l={})=>{const e=$t(),t={programs:[],resolvedOptions:gt(l)};return{name:"dts",outputOptions:e.outputOptions,renderChunk:e.renderChunk,options(s){let{input:f=[]}=s;if(!Array.isArray(f))f=typeof f=="string"?[f]:Object.values(f);else if(f.length>1){s.input={};for(const v of f){let p=v.replace(/((\.d)?\.(c|m)?(t|j)sx?)$/,"");O.isAbsolute(v)?p=O.basename(p):p=O.normalize(p),s.input[p]=v}}return t.programs=xt(Object.values(f),t.resolvedOptions.compilerOptions,t.resolvedOptions.tsconfig),e.options.call(this,s)},transform(s,f){if(!me.test(f))return null;const v=b(a=>{if(a.program){const r=O.dirname(f);a.program.getSourceFiles().map(o=>o.fileName).filter(o=>o.startsWith(r)).forEach(this.addWatchFile)}},"watchFiles"),p=b(()=>{const a=he(t,f,s);return a?(v(a),e.transform.call(this,a.code,f)):null},"handleDtsFile"),d=b(()=>{const a=f.replace(me,_e);let r=he(t,a,s);return r?(v(r),e.transform.call(this,r.code,a)):null},"treatTsAsDts"),n=b(()=>{const a=he(t,f,s);if(!a||!a.source||!a.program)return null;v(a);const r=f.replace(me,_e);let i;const{emitSkipped:o,diagnostics:h}=a.program.emit(a.source,(u,m)=>{i=e.transform.call(this,m,r)},void 0,!0);if(o){const u=h.filter(m=>m.category===c.ts.DiagnosticCategory.Error);u.length&&(console.error(c.ts.formatDiagnostics(u,fe)),this.error("Failed to compile. Check the logs above."))}return i},"generateDtsFromTs");return X.test(f)?p():d()??n()},resolveId(s,f){if(!f)return;f=f.split("\\").join("/");let v=t.resolvedOptions.compilerOptions;if(t.resolvedOptions.tsconfig){const d=s.startsWith(".")?O.resolve(O.dirname(f),s):s;v=pe(d,t.resolvedOptions.compilerOptions,t.resolvedOptions.tsconfig).compilerOptions}const{resolvedModule:p}=c.ts.resolveModuleName(s,f,v,c.ts.sys);if(p)return!t.resolvedOptions.respectExternal&&p.isExternalLibraryImport?{id:s,external:!0}:{id:O.resolve(p.resolvedFileName)}}}},"plugin");exports.default=Ge,exports.dts=Ge;
